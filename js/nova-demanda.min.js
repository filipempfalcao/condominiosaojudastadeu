// Versão minificada do arquivo nova-demanda.js
document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("novaDemandaForm"),t=document.getElementById("cancelarBtn");t.addEventListener("click",function(){window.location.href="demandas.html"}),e.addEventListener("submit",function(t){t.preventDefault();const a=document.getElementById("titulo").value,n=document.getElementById("categoria").value,o=document.getElementById("criticidade").value,d=document.getElementById("descricao").value,c=document.getElementById("localizacao").value;if(!a||!n||!o||!d||!c)return void mostrarNotificacao("Preencha todos os campos obrigatórios","erro");const i=obterDados("demandas",[]),r=i.length>0?parseInt(i[i.length-1].id):0,l=(r+1).toString().padStart(3,"0"),s=document.getElementById("categoria"),m=s.options[s.selectedIndex].text,u={id:l,titulo:a,categoria:n,categoriaLabel:m,data:(new Date).toISOString().split("T")[0],criticidade:o,status:"aberta",descricao:d,localizacao:c,custo:0};i.push(u),salvarDados("demandas",i),mostrarNotificacao("Demanda registrada com sucesso!","sucesso"),setTimeout(()=>{window.location.href="demandas.html"},1e3)})});
